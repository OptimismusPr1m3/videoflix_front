<section class="slider-cont">

  <div class="category-container">
    <h2>Neu auf VideoFlix</h2>
    <div class="scroll-container">
      <div class="scroll-button left" [ngClass]="numberOfPacks.length > 1 ? 'slider-btn-opacity' : 'invis'">
        <button (click)="nextVideos('+', 'category1')">
          <mat-icon>chevron_left</mat-icon>
        </button>
      </div>
      <div class="content-container" #category1>
        <div class="video-container" *ngFor="let groupKey of numberOfPacks; let groupIndex = index" 
        [ngClass]="groupedSliderVids[groupKey].length === videoItemCardsAmount ? 'evenly-spacing' : 'start-spacing'">
          <div class="item" *ngFor="let item of groupedSliderVids[groupKey]; let i = index">
            <app-video-item
              (mouseover)="hoveredIndex1 = i"
              (mouseleave)="hoveredIndex1 = -1"
              class="grow-shadow"
              [videoItem]="item"
              [isHovered]="hoveredIndex1 === i" 
            ></app-video-item>
          </div>
        </div>
      </div>
      <div class="scroll-button right" [ngClass]="numberOfPacks.length > 1 ? 'slider-btn-opacity' : 'invis'">
        <button (click)="nextVideos('-', 'category1')">
          <mat-icon>chevron_right</mat-icon>
        </button>
      </div>
    </div>
  </div>


  <div *ngIf="globals.currentLoggedUser()?.video_timestamps" class="category-container">
    <h2>Weiterschauen</h2>
    <div class="scroll-container">
      <div class="scroll-button left" [ngClass]="numberOfPacksWatched.length > 1 ? 'slider-btn-opacity' : 'invis'">
        <button (click)="nextVideos('+', 'category4')">
          <mat-icon>chevron_left</mat-icon>
        </button>
      </div>
      <div class="content-container" #category4>
        <div class="video-container" *ngFor="let groupKey of numberOfPacksWatched; let groupIndex = index" 
        [ngClass]="groupedSliderVidsWatched[groupKey].length === videoItemCardsAmount ? 'evenly-spacing' : 'start-spacing'">
          <div class="item" *ngFor="let item of groupedSliderVidsWatched[groupKey]; let i = index">
            <app-video-item
              (mouseover)="hoveredIndex4 = i"
              (mouseleave)="hoveredIndex4 = -1"
              class="grow-shadow"
              [videoItem]="item"
              [isVideosWatched]="true"
              [isHovered]="hoveredIndex4 === i" 
            ></app-video-item>
          </div>
        </div>
      </div>
      <div class="scroll-button right" [ngClass]="numberOfPacksWatched.length > 1 ? 'slider-btn-opacity' : 'invis'">
        <button (click)="nextVideos('-', 'category4')">
          <mat-icon>chevron_right</mat-icon>
        </button>
      </div>
    </div>
  </div>


  <div class="category-container">
    <h2>Dokumentation</h2>
    <div class="scroll-container">
      <div class="scroll-button left" [ngClass]="numberOfPacksDocumentation.length > 1 ? 'slider-btn-opacity' : 'invis'">
        <button (click)="nextVideos('+', 'category2')">
          <mat-icon>chevron_left</mat-icon>
        </button>
      </div>
      <div class="content-container" #category2>
        <div class="video-container" *ngFor="let groupKey of numberOfPacksDocumentation; let groupIndex = index"
        [ngClass]="groupedSliderVidsDocumentation[groupKey].length === videoItemCardsAmount ? 'evenly-spacing' : 'start-spacing'">
          <div class="item" *ngFor="let item of groupedSliderVidsDocumentation[groupKey]; let i = index">
            <app-video-item
              (mouseover)="hoveredIndex2 = i"
              (mouseleave)="hoveredIndex2 = -1"
              class="grow-shadow"
              [videoItem]="item"
              [isHovered]="hoveredIndex2 === i" 
            ></app-video-item>
          </div>
        </div>
      </div>
      <div class="scroll-button right" [ngClass]="numberOfPacksDocumentation.length > 1 ? 'slider-btn-opacity' : 'invis'">
        <button (click)="nextVideos('-', 'category2')">
          <mat-icon>chevron_right</mat-icon>
        </button>
      </div>
    </div>
  </div>


  <div class="category-container">
    <h2>Drama</h2>
    <div class="scroll-container">
      <div class="scroll-button left" [ngClass]="numberOfPacksDrama.length > 1 ? 'slider-btn-opacity' : 'invis'">
        <button (click)="nextVideos('+', 'category3')">
          <mat-icon>chevron_left</mat-icon>
        </button>
      </div>
      <div class="content-container" #category3>
        <div class="video-container" *ngFor="let groupKey of numberOfPacksDrama; let groupIndex = index"
        [ngClass]="groupedSliderVidsDrama[groupKey].length === videoItemCardsAmount ? 'evenly-spacing' : 'start-spacing'">
          <div class="item" *ngFor="let item of groupedSliderVidsDrama[groupKey]; let i = index">
            <app-video-item
              (mouseover)="hoveredIndex3 = i"
              (mouseleave)="hoveredIndex3 = -1"
              class="grow-shadow"
              [videoItem]="item"
              [isHovered]="hoveredIndex3 === i" 
            ></app-video-item>
          </div>
        </div>
      </div>
      <div class="scroll-button right" [ngClass]="numberOfPacksDrama.length > 1 ? 'slider-btn-opacity' : 'invis'">
        <button (click)="nextVideos('-', 'category3')">
          <mat-icon>chevron_right</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  size="medium"
  color="#fff"
  type="square-jelly-box"
  [fullScreen]="true"
  ><p style="color: white">Bitte einen Moment Geduld...</p></ngx-spinner>

</section>
